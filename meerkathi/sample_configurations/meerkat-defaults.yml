schema_version: 0.2.0

general:
  msdir: msdir
  input: input
  output: output
  prefix: mypipelinerun
  init_pipeline: true


get_data:
  dataid: []

observation_config: 
  obsinfo: 
    enable: true
    listobs: true
    summary_json: true
    vampirisms: false
  Check_Cals: true
  target: auto
  gcal: auto
  bpcal: auto
  fcal: auto
  xcal: auto
  reference_antenna: '0'
  primary_beam: 
    enable: false
    freq: 855 1760 16
    diameter: 6.0
    pixels: 256
    coefficients: me

prepare_data: 
  enable: true
  fixvis: 
    enable: false
  manage_flags: 
    enable: true
    add_bitflag_column: true
    init_legacy_flagset: true
    remove_flagsets: true
  add_spectral_weights: 
    enable: false

flagging:
  enable: true
  label: ''
  quack_flagging:
    enable: false
  flag_spw:
    enable: true
    channels: '*:856~880MHz , *:1658~1800MHz, *:1419.8~1421.3MHz'
    ensure_valid_selection: true
  flag_antennas:
    enable: false
    antennas: '0'
  flag_scan:
    enable: false
    scans: '0'
  static_mask:
    enable: true
    mask: labelled_rfimask.pickle.npy
    uvrange: '0~1000'
  autoflag_rfi:
    enable: true
    flagger: aoflagger
    strategy: firstpass_QUV.rfis
  rfinder:
    enable: true
    telescope: MeerKAT
    field: target

cross_cal:
  enable: true
  otfdelay: true
  uvrange: '>250'
  label: 1gc1
  casa_version: '47'
  clear_cal:
    enable: true
  set_model:
    enable: true
  delay_cal:
    enable: true
    solint: 30s
    field:
      - bpcal
      - gcal
    plot:
      enable: true
      field:
        - bpcal
        - gcal
  bp_cal: 
    enable: true
    remove_ph_time_var: true
    solint: inf
    combine: scan
    combine_PREB0: scan
    solnorm: false
  gain_cal_flux: 
    enable: true
    combine: ''
    solint: 30s
  gain_cal_gain: 
    enable: true
    combine: ''
    solint: 30s
  transfer_fluxscale: 
    enable: true
  apply_delay_cal: 
    enable: true
    applyto: 
      - gcal
      - bpcal
      - target
  apply_bp_cal: 
    enable: true
    applyto: 
      - gcal
      - bpcal
      - target
  apply_gain_cal_gain: 
    enable: false
    applyto: 
      - gcal
      - bpcal
      - target
  apply_transfer_fluxscale: 
    enable: true
    applyto: 
      - gcal
      - bpcal
      - target

polcal: 
  enable: false

inspect_data: 
  enable: true
  label: '1gc'
  fields:
    - bpcal
    - gcal
  real_imag: 
    enable: true
    avgtime: '60'
  amp_phase: 
    enable: true
    avgtime: '60'
  amp_uvwave: 
    enable: true
    avgtime: '60'
  amp_ant: 
    enable: true
    avgtime: '60'
  phase_uvwave: 
    enable: true
    avgtime: '60'
  amp_scan: 
    enable: true
    avgtime: '60'

split_target: 
  enable: true
  label_in: ''
  label_out: corr
  split_target: 
    enable: true
    time_average: ''
    freq_average: 1
    column: corrected
    correlation: ''
    spw: ''
    otfcal: 
      enable: false
  obsinfo: 
    enable: true
    listobs: false

flagging__2: 
  enable: true
  label: corr
  autoflag_rfi: 
    enable: true
    flagger: aoflagger
    strategy: firstpass_QUV.rfis
    column: DATA
  rfinder: 
    enable: false
    field: target

masking: 
  enable: false
  centre_coord:
    - HH:MM:SS
    - DD:MM:SS
  label: corr

self_cal: 
  enable: true
  label: corr

image_line: 
  enable: true
  label: corr

