type: map
mapping:
  schema_version:
    type: str
    required: true

  split_target:
    desc: Split and average target data
    type: map
    mapping:
      enable:
        desc: Execute this worker
        type: bool
        required: true
      order:
        desc: Order of worker in queue
        type: int
        required: true
      label:
        desc: Label for new data set
        type: str
        required: true

      split_target:
        desc: Split data
        type: map
        mapping:
          enable:
            desc: Execute this section
            type: bool
            required: true
          time_average:
            desc: Time averaging
            type: str
            required: true
          freq_average:
            desc: Frequency averaging
            type: int
            required: true
          column:
            desc: Column to split, default is 'corrected'
            type: str
            required: false
          correlation:
            desc: Select correlations, default is '' = all
            type: str
            required: false
          spw:
            desc: Select spectral windows and channels, default is '' = all
            type: str
            required: false

      hires_split:
        desc: Splits data while keeping the frequency resolution
        type: map
        mapping:
          enable: 
            desc: Execute this section
            type: bool
            required: true
          hires_label:
            desc: Label for high resolution data set
            type: str
            required: false
          hires_spw:
            desc: SPW for full resolution data.
            type: str
            required: false
    
      changecentre:
        desc: changes the phase centre
        type: map
        mapping:
          enable:
            desc: Execute this section
            type: bool
            required: true
          ra:
            desc: J2000 RA of new phase centre, format XXhXXmXX.XXs, default is empty string
            type: str
            required: true
          dec:
            desc: J2000 Dec of new phase centre, format XXdXXmXX.XXs, default is empty string
            type: str
            required: true
      obsinfo:
        desc: Get observation information
        type: map
        mapping:
          enable:
            desc: Execute this section
            type: bool
            required: true
          listobs:
            desc: Run CASA listobs
            type: bool
            required: true
          summary_json:
            desc: Run MSUtils function
            type: bool
            required: true
      prepms:
        desc: Run MSUtils prepms function
        type: map
        mapping:
          enable:
            desc: Run this section
            type: bool
            required: true
