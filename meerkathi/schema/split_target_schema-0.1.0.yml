type: map
mapping:
  schema_version:
    type: str
    required: true

  split_target:
    desc: Split and average target data
    type: map
    mapping:
      enable:
        desc: Execute this worker
        type: bool
        required: true
      order:
        desc: Order of worker in queue
        type: int
        required: true
      label:
        desc: Label for new data set
        type: str
        required: true
      split_target:
        desc: Split data
        type: map
        mapping:
          enable:
            desc: Execute this section
            type: bool
            required: true
          time_average:
            desc: Time averaging
            type: str
            required: true
          freq_average:
            desc: Frequency averaging
            type: int
            required: true
          hires_split:
            desc: Make a High frequency resolution version of the data
            type: bool
            required: true
          hires_label:
            desc: Label for the hi-res MS
            type: str
            required: true
          hires_tav:
            desc: Time averaging for high res MS
            type: str
            required: false
          hires_fav:
            desc: Frequency averaging for high res MS - use caution !
            type: int
            required: false
          hires_spw:
            desc: Spectral Window selection for Hi res MS
            type: str
            required: false 
      obsinfo:
        desc: Get observation information
        type: map
        mapping:
          enable:
            desc: Execute this section
            type: bool
            required: true
          listobs:
            desc: Run CASA listobs
            type: bool
            required: true
          summary_json:
            desc: Run MSUtils function
            type: bool
            required: true
      prepms:
        desc: Run MSUtils prepms function
        type: map
        mapping:
          enable:
            desc: Run this section
            type: bool
            required: true
