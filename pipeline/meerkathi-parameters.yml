########################################################################
# Parameter file for meerkathi-pipepine.py
# 
# this is a commented line
# you can use quotes but you don't have to
# parameters requiring a boolean value have a capitalised name
# you can give booleans as true,1,yes,false,0,no (case insensitive)
# paramter names and non-boolean parameter values are case sensitive
# for list-type par values just give the entries separated by commas
# for list-of-lists additional separation by semi-colon
# you can leave blank lines
# spaces do not matter
# do not add comments at the end of a line which sets a parameter value
# go have a coffee
########################################################################



####################
### UBERSCHALTER ###
####################


# General pipeline information. data IDs, prefixes for output
general:
  dataids: [2017/04/06/1491463063,2017/04/06/1491480644]
  data_paths: [/home/makhathini/devel/meerkathi/pipeline/input]
  prefix: [meerkathi-pipeline]
  msdir: msdir
  input: input
  output: output
  bpcal: [0]
  gcal: [1]
  target: [2]
  reference_antenna: [m006]


# Get data to be reduced
# and peform some basic operations to get it ready for reduction
get_data:
  h5toms:
    enable: true
    channelrange: [20701,21700]
  fixvis:
    enable: true
  obsinfo:
    enable: true
  prep:
    enable: true
    add_imaging_cols: true

# Pre-calibration flagging
pre_cal_flagging:
  flag_autocorr:
    enable: true
  flag_milkyway:
    enable: true
  autoflag:
    enable: true
    strategy: aoflagger_strategies/firstpass_HI_strat2.rfis # This has to be in the pipeline input folder

# First generation calibration
first_gen_cal:
  uvrange: ">50"
  set_model:
    enable: true
    standard: "Perley-Taylor 99"
  delay_cal:
    enable: true
    refant: m042
    uvrange: ">50"
  bp_cal:
    enable: true
  gain_cal_bp:
    enable: true
    combine: ""
    minrbl: 4
    minsnr: 3
    solnorm: true
  gain_cal_gain:
    enable: true
    combine: ""
    minrbl: 4
    minsnr: 3
    solnorm: true
  transfer_fluxscale:
    enable: true
  apply_delay_cal:
    enable: true
    applymode: calflag
  apply_bp_cal:
    enable: true
    applymode: calflag
  apply_gain_cal_bp:
    enable: true
    applymode: calflag
  apply_transfer_fluxscale:
    enable: true
    applymode: calflag
